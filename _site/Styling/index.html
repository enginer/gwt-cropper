<!doctype html>
<html class="no-js" lang="en" itemscope itemtype="http://schema.org/SoftwareApplication">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Wiki GWT-Cropper</title>
        <meta name="description" content="The tutorial how to apply custom styles to your cropper">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta itemprop="applicationCategory" content="Plugin" />
        <meta itemprop="author" content="w32blaster" />
        <meta itemprop="creator" content="w32blaster" />
        <meta itemprop="url" content="http://gwt-cropper.co.uk/"/>

        <link rel="apple-touch-icon" href="/apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="/stylesheets/normalize.css">
        <link rel="stylesheet" href="/stylesheets/main.css">

        <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        
        <link rel="stylesheet" href="/stylesheets/default.css">
        
        <script src="/javascripts/highlight.pack.js"></script>
        <script src="/javascripts/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="container">
                <div class="site-header clearfix" role="banner">
                    <ul class="site-nav inline-block-list">
                        <li>
                            <a href="/">Main</a>
                        </li>
                        <li>
                            <a href="https://github.com/w32blaster/gwt-cropper">GitHub</a>
                        </li>
                    </ul>
                </div>

                <div class="site-promo"></div>
        </div>

        <div class="site-section">
            <div class="container">
                <h3>Table of content</h3>




<ul>
    <li><a href="/Usage">Usage</a></li>
    <li><a href="/TipsAndTricks">Tips and tricks</a></li>
    <li><a href="/Styling">Styling</a></li>
    <li><a href="/HowToUsePreviewWidget">How to use Preview widget</a></li>
</ul>


<h1>Introduction</h1>

<p>In this article I will show you how to create your own styles for the selection area in cropper.</p>

<p><em>Since version 0.4.5!</em></p>

<p><img src="/images/wiki/custom_styles.jpeg" alt="Memphis May Fire in GWT-Cropper" /></p>

<p>By default GWT-Cropper uses three different styles:</p>

<ul>
<li><a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/GWTCropper.css">GWTCropper.css</a> as default for desktop computers</li>
<li><a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/GWTCropperTablet.css">GWTCropperTablet.css</a> for tablets</li>
<li><a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/GWTCropperIE.css">GWTCropperIE.css</a> for Internet Explorer (9 and lower)</li>
</ul>


<p>You could overwrite all of them or only some files</p>

<h1>1. Create CSS file</h1>

<p>In this tutorial we are going to overwrite all the styles with only one CSS file.</p>

<p>Create a <em>.css</em> file in your package. This file should be accessible in the classpath. In my case it is <code>MyCustomStyle.css</code>.</p>

<p>Put the content into it. Copy the whole content from the <a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/GWTCropper.css">original GWTCropper.css file</a> and paste it to your just created new file. Then adjust styles that you wish to modify.</p>

<p>Please remember,</p>

<ul>
<li><em>Do not change the style class names!</em> This file <em>must</em> represent the source of the <a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/CropperStyleResource.java">CropperStyleResource</a>. So if you changed any style name, you would not be able to build your project.</li>
<li>Please pay attention to the handle size definition:</li>
</ul>


<pre><code>@def handleSize 10px; 
</code></pre>

<p>This value will be used in many inner calculation, so do not remove it or change this variable name. You can modify only its value, if you need. It is recommended to choose value that is divisible by 2 for styling purposes, because GWT-Cropper will divide this value by 2 in order to find a handle centre.</p>

<p>In my example I've changed the selection colour, handles size and borders.</p>

<h2>Hint: use patterns encoded in base64 scheme</h2>

<p>Do not forget, that you can set the background image using encoded binary image data in base64. Try <a href="http://www.patternify.com/">Patternify</a> for that.</p>

<p><img src="/images/wiki/custom_styles2.jpeg" alt="Bring Me The Horizon in the GWT-Cropper" /></p>

<p>In this short example I used this CSS-class:</p>

<pre><code>.base {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAFElEQVQImWNggILYgs3/cTAYGBgAju8HfloVoUQAAAAASUVORK5CYII=) repeat;
    position: relative;
}
</code></pre>

<p>Looks great, right? :)</p>

<h1>2. Create initializer of your style</h1>

<p>Create new class implementing <a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/ICropperStyleSource.java">com.google.code.gwt.crop.client.ICropperStyleSource</a> interface. In my case its name is <code>MyCustomStyle.java</code>. Put this code into it:</p>

<pre><code>package com.google.code.gwt.cropper.demo.client;

import com.google.code.gwt.crop.client.CropperStyleResource;
import com.google.code.gwt.crop.client.ICropperStyleSource;
import com.google.gwt.core.client.GWT;
import com.google.gwt.resources.client.ClientBundle;


public class MyCustomStyle implements ICropperStyleSource {

    interface IStyle extends ClientBundle {

        @Source("MyCustomStyle.css") // &lt;-- this is my custom CSS file path
        CropperStyleResource getStyles();
    }

    private final IStyle bundleResources = GWT.create(IStyle.class);

    /**
     * {@inheritDoc}
     */
    public CropperStyleResource css() {
        return bundleResources.getStyles();
    }
}
</code></pre>

<p>Do not forget to provide correct name of your CSS file in <code>@Source</code> annotation!</p>

<p>If you want to rewrite all three default CSS files, then you should create three different <a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/client/ICropperStyleSource.java">com.google.code.gwt.crop.client.ICropperStyleSource</a> implementations, like in example above.</p>

<h1>3. Declare it in your .gwt.xml file</h1>

<p>Check the original file <a href="https://github.com/w32blaster/gwt-cropper/blob/master/src/main/java/com/google/code/gwt/crop/GWTCropper.gwt.xml">GWTCropper.gwt.xml</a> and pay your attention at the <code>&lt;replace-with&gt;</code> section. Decide what you are going to override in your project and put according lines to your <em>.gwt.xml</em> file.</p>

<p>For example, in this example I wish to replace all the styles with one new CSS file:</p>

<pre><code>    &lt;inherits name='com.google.code.gwt.crop.FormFactor'/&gt;

    &lt;replace-with class="com.google.code.gwt.cropper.demo.client.MyCustomStyle"&gt;
        &lt;when-type-is class="com.google.code.gwt.crop.client.ICropperStyleSource" /&gt;
    &lt;/replace-with&gt;
</code></pre>

<h1>4. Inject styles</h1>

<p>Add this lines somewhere in your project. It could be the enter point, for instance. The most appropriate place for it is a constructor of the file where you are going to use your custom style:</p>

<pre><code>    public Application() {
        super();

        final ICropperStyleSource bundleResources = GWT.create(ICropperStyleSource.class);
        bundleResources.css().ensureInjected();
    }
</code></pre>

<p>Doing that, GWT will bind appropriate style to GWT-Cropper in runtime.</p>

            </div>
        </div>

        <div class="site-footer" role="contentinfo">
            Created by W32Blaster
        </div>

        <a href="https://github.com/w32blaster"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>
        <script src="/javascripts/plugins.js"></script>
        <script src="/javascripts/main.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-35687526-1', 'auto');
          ga('send', 'pageview');
        </script>

        <script>hljs.initHighlightingOnLoad();</script>

    </body>
</html>
